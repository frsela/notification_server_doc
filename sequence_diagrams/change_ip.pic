.PS
copy "sequence.pic"

#boxwid = 1
movewid = 2.7

# Object definition
object(N,"UA")
object(S,"NS")
step

# Detected IP change - re-register node IP adress
step
active(N)
message(N,N,"event('new IP')")

step

# Registration on Notification Server
message(N,S,"WS: registerUA(UAToken,[network data])")
active(S)
message(S,S,"check_node; check_ip; check_net")
message(S,S,"store_node")
return_message(S,N,"OK (list of pending messages + registered apps)")
inactive(S)
step
inactive(N)

# End diagram
step
complete(N)
complete(S)

.PE